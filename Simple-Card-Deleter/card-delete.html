<html><head> <link rel="stylesheet" href="https://p.trellocdn.com/power-up.min.css"> <style>p{margin-bottom:inherit}button{transition-duration:85ms}.deleteButton{background-color:#b04632;color:#fff}.deleteButton:hover{background-color:#933b27}</style> <script src="https://p.trellocdn.com/power-up.min.js"></script> <script src="https://api.trello.com/1/client.js?key=bbe61f5a9f4207b2d1bccd37c6367950"></script> </head> <body> <script type="text/javascript">let Promise=TrelloPowerUp.Promise,t=TrelloPowerUp.iframe({appKey:"bbe61f5a9f4207b2d1bccd37c6367950",appName:"Simple Card Deleter"}),oauth_url="https://trello.com/1/authorize?expiration=never&name=Simple Card Deleter&scope=read%2Cwrite&key=bbe61f5a9f4207b2d1bccd37c6367950&callback_method=fragment&return_url=https%3A%2F%2Flongestboi.github.io%2FSimple-Card-Deleter%2Fcard-delete-auth";function closePopup(){t.closePopup()}async function deleteCard(){let e=t.getRestApi();var o=t.getContext(),r=await e.getToken().then(function(e){return e});console.log(r),r?(r="https://api.trello.com/1/cards/"+o.card+"?"+URLSearchParams([["key","bbe61f5a9f4207b2d1bccd37c6367950"],["token",r]]),console.log(r),closePopup()):console.log("Error getting token!!!")}t.render(function(){window.Trello.authorize({type:"popup",name:"Simple Card Deleter",scope:{read:"true",write:"true"},expiration:"never",success:function(){console.log("Successful authentication")},error:function(){console.log("Failed authentication")}}),t.sizeTo("#render").done()})</script> <div id="render"> <div id="warning" style="text-align:center;margin-bottom:8px"> <h2 style="margin-bottom:8px">Warning!</h2> <p>This will delete the card forever;<br> There is no going back.</p> </div> <div id="buttons" style="text-align:center"> <button class="cancelButton" onclick="closePopup()" style="width:45%;padding:5px">Close</button> <button class="deleteButton" onclick="deleteCard()" style="width:45%;padding:5px">Delete</button> </div> </div></body></html>